{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nexport function renderGallery(data) {\n  const renderBox = document.querySelector('.gallery');\n\n  const postsArray = data.hits;\n\n  let galleryBox = '';\n\n  postsArray.forEach(item => {\n    galleryBox += `\n    <li class=\"gallery-item\">\n      <a class=\"gallery-link\" href=\"${item.largeImageURL}\">\n        <img\n          class=\"gallery-image\"\n          src=\"${item.webformatURL}\"\n          alt=\"${item.tags}\"\n          title=\"${item.tags}\"\n        />\n      \n      <ul>\n        <li><h5>Likes</h5><span>${item.likes}</span></li>\n        <li><h5>Views</h5><span>${item.views}</span></li>\n        <li><h5>Comments</h5><span>${item.comments}</span></li>\n        <li><h5>Downloads</h5><span>${item.downloads}</span></li>\n      </ul>\n      </a>\n    </li>\n  `;\n  });\n  renderBox.insertAdjacentHTML('afterbegin', galleryBox);\n\n  let galleryBoxes = new SimpleLightbox('.gallery a', {\n    captionDelay: 250,\n  });\n\n  galleryBoxes.refresh();\n}\n\nexport function clearRender() {\n  const renderBox = document.querySelector('.gallery');\n  renderBox.innerHTML = '';\n}\n","import { renderGallery } from './render-functions';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nexport function getData(searchWord, loader) {\n  const searchParams = new URLSearchParams({\n    key: '44412279-8977454442245f14893e5bf31',\n    q: searchWord,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: 'true',\n  });\n\n  fetch(`https://pixabay.com/api/?${searchParams}`)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n    .then(posts => {\n      if (posts.hits.length === 0 || posts.hits === 'undefined') {\n        iziToast.error({\n          title: 'Error',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n        });\n      }\n      loader.classList.add('hide');\n      renderGallery(posts);\n    })\n    .catch(error => {\n      iziToast.error({\n        title: 'Error',\n        message: error,\n      });\n    });\n}\n","import * as search from './js/pixabay-api';\nimport { clearRender } from './js/render-functions';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst form = document.querySelector('.search-form');\nconst loader = document.querySelector('.loader');\n\nform.addEventListener('submit', event => {\n  event.preventDefault();\n  const userSearchRequest = event.target.elements.search.value;\n  if (userSearchRequest === '' || /^\\s*$/.test(userSearchRequest)) {\n    iziToast.error({\n      title: 'Error',\n      message: 'Empty request',\n    });\n    event.target.elements.search.value = '';\n    return;\n  }\n  loader.classList.remove('hide');\n  clearRender();\n  search.getData(userSearchRequest.trim(), loader);\n  event.target.elements.search.value = '';\n});\n"],"names":["renderGallery","data","renderBox","postsArray","galleryBox","item","SimpleLightbox","clearRender","getData","searchWord","loader","searchParams","response","posts","iziToast","error","form","event","userSearchRequest","search.getData"],"mappings":"6vBAGO,SAASA,EAAcC,EAAM,CAClC,MAAMC,EAAY,SAAS,cAAc,UAAU,EAE7CC,EAAaF,EAAK,KAExB,IAAIG,EAAa,GAEjBD,EAAW,QAAQE,GAAQ,CACzBD,GAAc;AAAA;AAAA,sCAEoBC,EAAK,aAAa;AAAA;AAAA;AAAA,iBAGvCA,EAAK,YAAY;AAAA,iBACjBA,EAAK,IAAI;AAAA,mBACPA,EAAK,IAAI;AAAA;AAAA;AAAA;AAAA,kCAIMA,EAAK,KAAK;AAAA,kCACVA,EAAK,KAAK;AAAA,qCACPA,EAAK,QAAQ;AAAA,sCACZA,EAAK,SAAS;AAAA;AAAA;AAAA;AAAA,GAKpD,CAAG,EACDH,EAAU,mBAAmB,aAAcE,CAAU,EAElC,IAAIE,EAAe,aAAc,CAClD,aAAc,GAClB,CAAG,EAEY,QAAO,CACtB,CAEO,SAASC,GAAc,CAC5B,MAAML,EAAY,SAAS,cAAc,UAAU,EACnDA,EAAU,UAAY,EACxB,CCvCO,SAASM,EAAQC,EAAYC,EAAQ,CAC1C,MAAMC,EAAe,IAAI,gBAAgB,CACvC,IAAK,qCACL,EAAGF,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MAChB,CAAG,EAED,MAAM,4BAA4BE,CAAY,EAAE,EAC7C,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKC,GAAS,EACTA,EAAM,KAAK,SAAW,GAAKA,EAAM,OAAS,cAC5CC,EAAS,MAAM,CACb,MAAO,QACP,QACE,0EACZ,CAAS,EAEHJ,EAAO,UAAU,IAAI,MAAM,EAC3BV,EAAca,CAAK,CACzB,CAAK,EACA,MAAME,GAAS,CACdD,EAAS,MAAM,CACb,MAAO,QACP,QAASC,CACjB,CAAO,CACP,CAAK,CACL,CChCA,MAAMC,EAAO,SAAS,cAAc,cAAc,EAC5CN,EAAS,SAAS,cAAc,SAAS,EAE/CM,EAAK,iBAAiB,SAAUC,GAAS,CACvCA,EAAM,eAAc,EACpB,MAAMC,EAAoBD,EAAM,OAAO,SAAS,OAAO,MACvD,GAAIC,IAAsB,IAAM,QAAQ,KAAKA,CAAiB,EAAG,CAC/DJ,EAAS,MAAM,CACb,MAAO,QACP,QAAS,eACf,CAAK,EACDG,EAAM,OAAO,SAAS,OAAO,MAAQ,GACrC,MACD,CACDP,EAAO,UAAU,OAAO,MAAM,EAC9BH,IACAY,EAAeD,EAAkB,KAAM,EAAER,CAAM,EAC/CO,EAAM,OAAO,SAAS,OAAO,MAAQ,EACvC,CAAC"}